% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/runrs.R
\name{nb_runr}
\alias{nb_runr}
\title{Negative binomial regression power simulation}
\usage{
nb_runr(
  num_sim,
  n,
  mean,
  sd = NULL,
  max_trt_eff,
  ntrts,
  distribution = "negbin",
  size = 2,
  prob = NULL
)
}
\arguments{
\item{num_sim}{Number of simulations to perform.}

\item{n}{The number of observations per treatment group.}

\item{mean}{The mean of the response random variable for the control group.}

\item{sd}{The standard deviation of the response random variable (for normal distribution).}

\item{max_trt_eff}{The maximum treatment effect (difference from control).}

\item{ntrts}{The number of treatments (including control).}

\item{distribution}{The distribution from which to generate the random
variable. Options are "normal", "poisson", "logistic", or "negbin".}

\item{size}{The target number of successful trials (for negative binomial and logistic).}

\item{prob}{Probability of success (for negative binomial and logistic).}
}
\value{
A data frame of contrasts with p-values from post-hoc tests.
}
\description{
Runs simulations to estimate the statistical power of negative binomial regression
for detecting differences between treatment groups with count data. The function
generates data from a negative binomial distribution, performs regression analysis,
and returns the results of post-hoc tests.
}
\examples{
\dontrun{
# Simple example with 5 simulations
nb_runr(num_sim = 5, n = 10, mean = 5, sd = 1, max_trt_eff = 2,
       ntrts = 3, size = 2, distribution = "negbin")

# Calculate power by summarizing results
sims <- nb_runr(num_sim = 20, n = 10, mean = 5, max_trt_eff = 2,
               ntrts = 3, size = 2, distribution = "negbin")
power <- mean(sims$p.value < 0.05, na.rm = TRUE)
}
}
